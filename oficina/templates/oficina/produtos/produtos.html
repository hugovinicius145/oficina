{% extends 'oficina/base.html'%}
{% block title%}Produtos | Hugo Moto Peças{% endblock%}
{% block css %} {% include 'oficina/produtos/css/aux.html'%} {% endblock %}
{% block content %}

  {% block javascript %} {% include 'oficina/produtos/js/aux.html'%} {% endblock %}
  <!-- Search Bar-->

  <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Pesquise por Descrição..">

  <!-- Tabela de Produtos -->
  <div class="table table-striped table-responsive">
    <table class="table table-bordered " id="myTable" width="100%" cellspacing="0">
      <tr class="header" style="cursor:pointer;">
        <th onclick="sortTable(0)" id="codigo">Código</th>
        <th onclick="sortTable(1)" id="descricao">Descrição</th>
        <th onclick="sortTable(2)" id="quantidade">Quantidade</th>
        <th onclick="sortTable(3)"> Valor de Compra</th>
        <th onclick="sortTable(4)">Valor de Venda</th>
        <th>Ações</th>
      </tr>
      {% for produto in produtos%}
      <tr>
        <td>{{produto.id}}</td>
        <td>{{produto.descricao}}</td>
        <td>{{produto.quantidade}}</td>
        <td>{{produto.valor_compra}}</td>
        <td>{{produto.valor_venda}}</td>
        
        <td>
            <a href="{% url 'oficina:atualizar_produto' produto.id%}"><img src="https://img.icons8.com/color/30/000000/edit.png"></a>
            <a href="{% url 'oficina:apagar_produto' produto.id%}"><img src="https://img.icons8.com/color/30/000000/delete.png"></a>
        </td>
      </tr>
      {% endfor %}       
    </table>
  </div> 
  {% comment %} <!-- Paginação de Produtos -->
  <div class="pagination">
    <span class="step-links">
        {% if produtos.has_previous %}
            <a href="?page=1">&laquo; Primeira</a>
            <a href="?page={{ produtos.previous_page_number }}">Anterior</a>
        {% endif %}

        <span class="current">
            Página {{ produtos.number }} de {{ produtos.paginator.num_pages }}.
        </span>

        {% if produtos.has_next %}
            <a href="?page={{ produtos.next_page_number }}">Próxima</a>
            <a href="?page={{ produtos.paginator.num_pages }}">Ultima &raquo;</a>
        {% endif %}
    </span>
  </div> {% endcomment %}
{% endblock %}